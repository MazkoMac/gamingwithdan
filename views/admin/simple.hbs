<link rel="stylesheet" href="/style/css/admin.css">

<div class="admin-wrap">
  <h1 class="page-title">Admin Dashboard</h1>

  {{!-- ADMIN NAVIGATION BUTTONS --}}
  <div class="admin-nav" style="text-align:center; margin-bottom:2rem;">
    <a href="/admin/challenges" class="btn btn-primary" style="margin:0 0.5rem;">Manage Challenges</a>
    <a href="/admin/backlog" class="btn btn-primary" style="margin:0 0.5rem;">Manage Backlog</a>
    <a href="/admin" class="btn btn-primary" style="margin:0 0.5rem;">Add Challenge (2025)</a>
    <a href="/" class="btn" style="margin:0 0.5rem;">← Back to Site</a>
  </div>

  <p class="muted" style="text-align:center;">
    Use the buttons above to navigate between admin features.  
    Below you can add new challenge entries for <strong>2025</strong>.
  </p>

  {{!-- EXISTING ADD CHALLENGE FORM --}}
  <div class="grid">
    <form class="card" method="POST" action="/admin/save">
      <label>Game Name
        <input name="name" id="name" placeholder="e.g., Elden Ring" required>
      </label>

      <label>Rating
        <input name="rating" id="rating" placeholder="8.5">
      </label>

      <label>Description
        <textarea name="description" id="description" placeholder="Short notes about the game" rows="4"></textarea>
      </label>

      <label>Image URL
        <input name="image" id="image" placeholder="https://...">
      </label>

      <label>Difficulty
        <input name="difficulty" id="difficulty" placeholder="Normal / Hard / etc.">
      </label>

      <label>Platform
        <input name="platform" id="platform" placeholder="PC / Switch / etc.">
      </label>

      <button class="btn btn-primary" type="submit">Add Game</button>
    </form>

    <aside class="card">
      <h2>Preview</h2>
      <div class="preview">
        <p id="pv_name">Game name…</p>
        <p class="muted" id="pv_rating">Rating: —</p>
      </div>
    </aside>
  </div>
</div>

<script>
  (function () {
    const name = document.getElementById('name');
    const rating = document.getElementById('rating');
    const pvName = document.getElementById('pv_name');
    const pvRating = document.getElementById('pv_rating');

    function updatePreview() {
      pvName.textContent = name.value.trim() || 'Game name…';
      pvRating.textContent = rating.value.trim()
        ? 'Rating: ' + rating.value.trim()
        : 'Rating: —';
    }

    name.addEventListener('input', updatePreview);
    rating.addEventListener('input', updatePreview);
    updatePreview();
  })();
</script>