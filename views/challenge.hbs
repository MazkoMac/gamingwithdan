<link rel="stylesheet" href="/style/css/challenge.css">

<main class="challenge-wrapper">
  <section class="challenge-intro">
    <h1 class="challenge-title">52 Games In {{year}}</h1>

    <div class="challenge-year-links">
      <a href="/yearly-challenge-2020">2020</a>
      <a href="/yearly-challenge-2021">2021</a>
      <a href="/yearly-challenge-2022">2022</a>
      <a href="/yearly-challenge-2023">2023</a>
      <a href="/yearly-challenge-2024">2024</a>
      <a href="/yearly-challenge-2025">2025</a>
    </div>

    <button class="challenge-modal-btn" onclick="openModal()">The Challenge</button>

    <div id="challenge-modal" class="challenge-modal">
      <div class="challenge-modal-content">
        <span class="close" onclick="closeModal()">&times;</span>
        <h3>52 Games Challenge</h3>
        <p>The challenge is quite simple â€“ try to beat 52 games (or more) in {{year}}.</p>
        <ol>
          <li>In general, nothing can be looked up or referenced online (exceptions for understanding rogue-lite mechanics).</li>
          <li>To complete a game means to see its ending credits. If none exist, best judgment must prevail.</li>
          <li>Beating previously beaten games is allowed. Games started the previous year are valid.</li>
          <li>Difficulty is flexible. Higher difficulties are encouraged, while the lowest may violate the spirit of the challenge.</li>
        </ol>
      </div>
    </div>
  </section>

  <section class="challenge-list">
    {{#each result}}
    <div class="challenge-entry">
      <h2 class="challenge-entry-title">{{id}}. {{name}}</h2>
      <div class="challenge-entry-image">
        <img src="{{image}}" alt="{{name}} Cover">
      </div>
      <p class="challenge-entry-description">{{description}}</p>
      <div class="challenge-entry-rating">RATING: {{rating}}/5</div>
    </div>
    <hr />
    {{/each}}
  </section>
</main>

<script>
  function openModal() {
    document.getElementById('challenge-modal').style.display = 'flex';
  }

  function closeModal() {
    document.getElementById('challenge-modal').style.display = 'none';
  }

  window.onclick = function(event) {
    const modal = document.getElementById('challenge-modal');
    if (event.target === modal) {
      modal.style.display = 'none';
    }
  }
</script>